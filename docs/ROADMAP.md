# 路线图

## 概述

本项目正在从"单操作 MVP"过渡到生产级内核框架。内核创作体验（`@eas.kernel` + `eas.mk`）仍然是设计的中心。

### 近期（让它变得稳固）

- **API 稳定性**：定义和版本化公共 API（`eas.kernel`、`eas.Tensor`、运行时选择、环境变量）。
- **设备张量**：使 `eas.Tensor(device="metal")` 成为默认性能路径；保持 `numpy` 互操作的人机工程学。
- **Metal 运行时正确性**：强大的同步语义；一致的错误报告；可预测的资源生命周期。
- **构建/分发**：记录 macOS 构建要求；添加轮子构建指导；保持 CPU 回退在所有地方工作。

### 中期（让它变得快速）

- **内存池**：重用 Metal 缓冲区（设备私有 + 暂存）以减少分配。
- **流**：显式流/队列 API；避免隐式同步，除非需要（例如 `.numpy()`）。
- **参数绑定**：减少每次分派的开销（预准备参数；考虑参数缓冲区）。
- **内核自动调优钩子**：公开元参数扫描（例如 `BLOCK`）并带基准测试工具（在沙盒外运行）。
- **Torch 集成**：发布稳定的互操作层（通过 DLPack 实现 CPU 零拷贝）；评估可选的原生 MPS 插件以实现零拷贝 + 流正确性。

### 长期（让它变得可扩展）

- **图形捕获/重放**：为小内核和重复循环摊销编码/分派开销。
- **更多操作 + 类型**：扩展 IR 和代码生成超越 1D/float32；向量化加载/存储；归约。
- **融合**：在 IR 级别的多操作降级和调度。
- **可观察性**：性能分析钩子、结构化日志、IR/MSL/管道的调试转储。
